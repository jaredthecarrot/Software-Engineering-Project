{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile - {{username}}</title>
    <link rel="stylesheet" href="{% static 'css/main.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="{% static 'css/color.css' %}">
    <link rel="stylesheet" href="{% static 'css/responsive.css' %}">
	
</head>
<body>
<!--<div class="se-pre-con"></div>-->
<div class="theme-layout">
	
	</div>
	
	<section>
			<div class="feature-photo">
				<figure><img src="{% static 'images/resources/timeline-1.jpg' %}" alt=""></figure>
				<form>
					<div class="add-btn" style="">
					<span style="color: white; font-size: 27px; margin-right: 520px;"><b><u><a href="/">Home</a></u></b></span>
					<span style="color: white; font-size: 27px;"><b>11 Post</b></span>
					<span style="color: white; font-size: 27px;"><b>1.7m followers</b></span>
					<span style="color: white; font-size: 27px;"><b>3.5k following</b></span>
					<a href="" title="" data-ripple=""><button style="background-color: #ffc0cb; border: #ffc0cb;">Follow</button></a>
					
					</div>
				</form>

				<!-- <form class="edit-phto">
					<i class="fa fa-camera-retro"></i>
					<label class="fileContainer">
						Upload Cover Photo
					<input type="file"/>
					</label>
				</form> -->
				<div class="container-fluid" style="position: absolute; left: 50px; top: 200px;">
					<div class="row merged">
						<div class="col-lg-2 col-sm-3">
							<div class="user-avatar">
								<figure>
									<img src="{{user_profile.profileimg.url}}" style="height: 250px; width: 100%;" alt="">
									<form class="edit-phto">
										<i class="fa fa-camera-retro"></i>
										<label class="fileContainer">
											<a href="#account-settings">Upload Profile Photo</a>
										</label>
									</form>
								</figure>
							</div>
						</div>
						<div class="col-lg-10 col-sm-9">
							<div class="timeline-info">
								<ul>
									<li class="admin-name">
									  <h5 style="color: black;white-space: nowrap; width: 110px; font-size: 27px;"><b>@username</b><!--<i class="fa fa-check-circle" style="color: #48dbfb;" aria-hidden="true"></i>--></h5>
									  <!--<span>Group Admin</span>-->
									</li>
									<!--<li>
										<a class="" href="javascript:void(0)" title="" data-ripple="">Go live!</a>
										<a class="" href="javascript:void(0)" title="" data-ripple="">Music</a>
										<a class="" href="emporium/index-3.html" title="" data-ripple="">Emporium</a>
										<a class="" href="fitness/index.html" title="" data-ripple="">Health Inspection</a>
										<a class="" href="settings/account-setting.html" title="" data-ripple="">Settings</a>
										<a class="" href="javascript:void(0)" title="" data-ripple="">Upload</a>
										<a class="" href="time-line.html" title="" data-ripple="">time line</a>
										<a class="" href="timeline-photos.html" title="" data-ripple="">Photos</a>
										<a class="" href="timeline-videos.html" title="" data-ripple="">Videos</a>
										<a class="" href="timeline-friends.html" title="" data-ripple="">Friends</a>
										<a class="" href="timeline-groups.html" title="" data-ripple="">Groups</a>
										<a class="" href="about.html" title="" data-ripple="">about</a>
										<a class="" href="#" title="" data-ripple="">more</a>

									</li>-->
								</ul>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section><!-- top area -->
		<section>
			<div class="bio">
				{{user_profile.bio}}
			</div>
            <hr class="my-4 border-gray-300">

            <div class="container">
                <div class="grid lg:grid-cols-6 gap-8">
                    <div>
                        <h3 class="text-4xl font-semibold mb-4">General</h3>
                    </div>
                    <div class="bg-white rounded-lg shadow-md p-6 col-span-3">
                        <div class="grid grid-cols-1 gap-4">
            
                            <!-- First Name -->
                            <div>
                                <label class="block text-gray-600 font-medium text-2xl">First Name</label>
                                <p class="w-full mt-2 p-4 border border-gray-300 rounded-md bg-gray-50 text-2xl">John</p>
                            </div>
            
                            <!-- Last Name -->
                            <div>
                                <label class="block text-gray-600 font-medium text-2xl">Last Name</label>
                                <p class="w-full mt-2 p-4 border border-gray-300 rounded-md bg-gray-50 text-2xl">Doe</p>
                            </div>
            
                            <!-- Gender -->
                            <div>
                                <label class="block text-gray-600 font-medium text-2xl">Gender</label>
                                <p class="w-full mt-2 p-4 border border-gray-300 rounded-md bg-gray-50 text-2xl">Male</p>
                            </div>
            
                            <!-- Date of Birth -->
                            <div>
                                <label class="block text-gray-600 font-medium text-2xl">Date of Birth</label>
                                <p class="w-full mt-2 p-4 border border-gray-300 rounded-md bg-gray-50 text-2xl">1990-01-01</p>
                            </div>
            
                            <!-- Age -->
                            <div>
                                <label class="block text-gray-600 font-medium text-2xl">Age</label>
                                <p class="w-full mt-2 p-4 border border-gray-300 rounded-md bg-gray-50 text-2xl">33</p>
                            </div>
            
                            <!-- Email -->
                            <div>
                                <label class="block text-gray-600 font-medium text-2xl">Email</label>
                                <p class="w-full mt-2 p-4 border border-gray-300 rounded-md bg-gray-50 text-2xl">john.doe@example.com</p>
                            </div>
            
                            <!-- Phone -->
                            <div>
                                <label class="block text-gray-600 font-medium text-2xl">Phone</label>
                                <p class="w-full mt-2 p-4 border border-gray-300 rounded-md bg-gray-50 text-2xl">+1 234 567 890</p>
                            </div>
            
                            <!-- Bio -->
                            <div>
                                <label class="block text-gray-600 font-medium text-2xl">Bio</label>
                                <p class="w-full mt-2 p-4 border border-gray-300 rounded-md bg-gray-50 text-2xl">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                            </div>
            
                            <!-- Location -->
                            <div>
                                <label class="block text-gray-600 font-medium text-2xl">Location</label>
                                <p class="w-full mt-2 p-4 border border-gray-300 rounded-md bg-gray-50 text-2xl">New York, USA</p>
                            </div>
            
                            <!-- Theme -->
                            <div>
                                <label class="block text-balck-600 font-larege text-2xl">Theme</label>
                                <p class="w-full mt-2 p-4 border border-gray-300 rounded-md bg-gray-50 text-2xl">Light</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            


		</section>
		
	<section>
		<div class="gap gray-bg">
			<div class="container-fluid">
				<div class="row">
					<div class="col-lg-12">
						<div class="row" id="page-contents">
							<div class="col-lg-3">
								<aside class="sidebar static">
									
									
									
								</aside>
							</div><!-- sidebar -->
							









                        <div class="col-lg-6">
                            <div class="central-meta">
                                <ul class="photos">
                                    <li><a class="strip" href="https://cdn.business2community.com/wp-content/uploads/2017/08/blank-profile-picture-973460_640.png" title="" data-strip-group="mygroup" data-strip-group-options="loop: false">
                                        <img src="https://cdn.business2community.com/wp-content/uploads/2017/08/blank-profile-picture-973460_640.png" style="height: 250px; width: 300px;" alt=""></a>
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <div class="col-lg-3">
                            <aside class="sidebar static"></aside>
                        </div>
                    </div>    
                </div>
            </div>
        </div>
	</div>    
</section>

<!-- Chat Box -->
<div id="chatBox" class="chat-box-container">
    <div class="chat-header">
        <img src="{{ target_user.profile.profileimg.url }}" alt="Profile Picture" class="chat-profile-picture">
        <span class="chat-title">{{ target_user.username }}</span>
        <button class="close-chat" onclick="closeChatBox()">âœ•</button>
    </div>

    <div class="chat-messages" id="chatMessages">
        {% for message in chat_messages reversed %}
            <div class="message {% if message.author == user %}message-sent{% else %}message-received{% endif %}">
                {% if message.author != user %}
                    <img src="{{ target_user.profile.profileimg.url }}" alt="Profile Picture" class="message-profile-picture">
                {% endif %}
                <div class="message-content">
                    <p>{{ message.body }}</p>
                </div>
            </div>
            <span class="message-time">{{ message.created|date:"H:i A" }}</span>
        {% endfor %}
    </div>

    <!-- Message input area -->
    <div class="chat-input">
        <form id="chat_message_form" method="POST">
            {% csrf_token %}
            {{ form.as_p }}
        </form>
    </div>
</div>

<!-- JavaScript to Open and Close Chat Box -->
<script>
    function openChatBox() {
        document.getElementById("chatBox").style.display = "flex";
    }

    function closeChatBox() {
        document.getElementById("chatBox").style.display = "none";
    }
</script>
	<!-- JavaScript to Handle AJAX Submission -->
<script>
    function sendMessage(event) {
        event.preventDefault(); // Prevent form from submitting traditionally

        const messageInput = document.getElementById("messageInput");
        const chatMessages = document.getElementById("chatMessages");
        const form = document.getElementById("chat_message_form");
        const formData = new FormData(form);

        fetch(form.action, {
            method: 'POST',
            body: formData,
            headers: {
                'X-Requested-With': 'XMLHttpRequest',
            },
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                // Append the new message to chat messages
                const messageContainer = document.createElement("div");
                messageContainer.classList.add("message", "message-sent");
                const messageContent = document.createElement("p");
                messageContent.textContent = messageInput.value;
                messageContainer.appendChild(messageContent);
                chatMessages.appendChild(messageContainer);
                
                // Clear the input field
                messageInput.value = "";
                
                // Scroll to the bottom of the chat
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
        })
        .catch(error => console.error('Error:', error));
    }
</script>

    <script src="{% static 'js/script.js' %}"></script>
</body>
</html>